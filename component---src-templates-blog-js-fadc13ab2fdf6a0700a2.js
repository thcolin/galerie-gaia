(self.webpackChunkgalerie_gaia=self.webpackChunkgalerie_gaia||[]).push([[744],{8770:function(e,t,n){"use strict";n.r(t);var i,l,r,s=n(7329),o=n(9756),a=n(7294),u=n(4021),c=n(2335),d=n(1260),m=n(9961),f=n(5184),g=n(2802),p=n(6247),Z=n(5043),h=n(5087),y=n(3431),v=function e(t){t.scrollPosition;var n,i,l,r=(0,o.Z)(t,["scrollPosition"]),h=r.pageContext,v=(h.pages,h.frontmatter),x=v.articles,b=(0,a.useRef)(null),k=(0,a.useState)("undefined"!=typeof history&&(null===(n=history.state)||void 0===n?void 0:n.values)||{}),w=k[0],C=k[1],D=(0,a.useMemo)((function(){return Array.from(new Set(x.map((function(e){return e.categories})).reduce((function(e,t){return[].concat((0,s.Z)(e),(0,s.Z)(t||[]))}),[])))}),[]),j=(0,a.useMemo)((function(){return{categories:{type:"select",filter:function(e,t){return!t.length||t.some((function(t){return(e.categories||[]).includes(t.value)}))},props:{label:"Catégories d'Actualité",isMulti:!0,options:D.map((function(e){return{value:e,label:e}}))}}}}),[]),I=(0,a.useMemo)((function(){return x.filter((function(e){return Object.keys(w).every((function(t){return j[t].filter(e,w[t])}))})).reverse()}),[x,w]),S=(0,u.Z)(I,10,{initial:"undefined"!=typeof history&&(null===(i=history.state)||void 0===i?void 0:i.page)||0}),M=S.page,P=S.setPage,W=S.pieces,A=S.length;(0,a.useEffect)((function(){(Object.keys(w).length||M>0)&&history.pushState({values:w,page:M},document.title)}),[w,M]);var F=function(e){b.current?b.current.scrollIntoView():window.scrollTo({top:0,behavior:"smooth"}),setTimeout((function(){P(e)}),1e3)};return(0,y.tZ)(d.Z,r,(0,y.tZ)(c.Z,{title:v.seo.title,description:v.seo.description,image:null===(l=W[0])||void 0===l?void 0:l.image,pageContext:r.pageContext}),(0,y.tZ)(p.Z,null,v.seo.heading),(0,y.tZ)("section",{ref:b,css:e.styles.element},(0,y.tZ)(p.Z,null,v.seo.heading),(0,y.tZ)(Z.Z,{options:j,setPage:P,values:w,setValues:C}),(0,y.tZ)("div",{css:e.styles.results},W.map((function(t,n){return(0,y.tZ)(a.Fragment,{key:t.title},(0,y.tZ)("article",{css:e.styles.article},(0,y.tZ)(g.Z,{src:t.image}),(0,y.tZ)("div",null,(0,y.tZ)("h2",null,t.title),(0,y.tZ)("p",null,t.categories.join(", "),t.date?" - "+new Date(t.date).toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):""),(0,y.tZ)(f.Z,{children:t.content}))),(0,y.tZ)("hr",null))})),!W.length&&(0,y.tZ)("div",{css:e.styles.empty},"Désolé, aucune oeuvres ne correspond à vos critères pour le moment")),A>1&&(0,y.tZ)("nav",null,(0,y.tZ)("button",{disabled:0===M,onClick:function(){return F(M-1)}},(0,y.tZ)(m.Z,{children:"arrow",direction:"left"})),(0,y.tZ)("span",null,M+1," / ",A),(0,y.tZ)("button",{disabled:M+1===A,onClick:function(){return F(M+1)}},(0,y.tZ)(m.Z,{children:"arrow",direction:"right"})))))};v.styles={element:{flex:1,padding:"2em",">nav":{display:"flex",alignItems:"center",justifyContent:"center",padding:"0 0 2em",">button":{display:"flex",alignItems:"center",justifyContent:"center",margin:"0 1rem",paddingRight:"0.33em"}}},results:{display:"flex",flexDirection:"column",flex:1,padding:"2em 2em 0"},article:(r={flexShrink:0,display:"flex",flexDirection:"row",alignItems:"flex-start"},r[h.Z.medias.small]={flexDirection:"column"},r[">span"]=(i={flex:0,alignItems:"center",minHeight:"20rem",minWidth:"15rem",maxWidth:"50%"},i[h.Z.medias.small]={flex:1,height:"15rem",maxHeight:"unset",minWidth:"unset",maxWidth:"unset",margin:"0 0 2rem 0"},i[">img"]={objectFit:"contain"},i),r[">div"]=(l={flex:1,display:"flex",flexDirection:"column",margin:"0 0 0 2rem"},l[h.Z.medias.small]={margin:0},l[">p"]={margin:0,fontStyle:"italic",textDecoration:"underline"},l[">div"]={lineHeight:"1.5"},l),r),empty:{display:"flex",alignItems:"center",justifyContent:"center",padding:"4em 0",textAlign:"center"}},t.default=v}}]);
//# sourceMappingURL=component---src-templates-blog-js-fadc13ab2fdf6a0700a2.js.map