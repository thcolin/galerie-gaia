(self.webpackChunkgalerie_gaia=self.webpackChunkgalerie_gaia||[]).push([[546],{5320:function(t,e,n){"use strict";n.d(e,{Z:function(){return a}});var r=n(9961),i=JSON.parse('{"e":[{"title":"Visio","icon":"camera","content":"Rendez-vous vidéo "},{"title":"Conseil","icon":"advise","content":"Recevez ma sélection adaptée à votre projet"},{"title":"Simplicité","icon":"lock","content":"paiement en ligne "},{"title":"Livraison","icon":"delivery","content":"Colissimo à domicile ou relais"},{"title":"Certifié","icon":"certificate","content":"Oeuvre originale avec certificat d\'authenticité"},{"title":"Sérénité","icon":"happy","content":"7 jours pour changer d\'avis"}]}'),o=n(5087),s=n(3431),l=function t(e){Object.assign({},e);return(0,s.tZ)("div",{css:t.styles.element},i.e.map((function(e,n){var i=e.title,o=e.icon,l=e.content;return(0,s.tZ)("div",{key:n,css:t.styles.item},(0,s.tZ)("span",{style:t.styles.icon},(0,s.tZ)(r.Z,{children:o})),(0,s.tZ)("label",null,i),(0,s.tZ)("p",null,l))})))};l.styles={element:{display:"flex",overflowX:"auto"},item:{display:"flex",flexDirection:"column",alignItems:"center",flexBasis:"100%",minWidth:"10rem",margin:"0 0.5rem",textAlign:"center",":first-of-type":{marginLeft:"0"},":last-of-type":{marginRight:"0"},">span":{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:o.Z.colors.smoke,margin:"0 0 1rem 0",fontSize:"2rem",borderRadius:"50%",height:"4rem",width:"4rem"},">label":{fontWeight:"bold"}}};var a=l},565:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return w}});var r=n(7329),i=n(9756),o=n(7294),s=n(5444),l=n(4021),a=n(2335),u=n(1260),c=n(5184),f=n(7448),d=n(5320),m=n(9961),p=n(8143),g=n(6247),v=n(5043),h=function(t){var e=1e4*Math.sin(t);return e-Math.floor(e)},y=function(t,e){for(var n,r,i=t.length;i;)r=Math.floor(h(e)*i--),n=t[i],t[i]=t[r],t[r]=n,++e;return t},b=n(3431),Z=function t(e){e.scrollPosition;var n,h,Z,w,k,x,j=(0,i.Z)(e,["scrollPosition"]),O=j.pageContext,C=O.pages,S=O.frontmatter,M=(0,o.useRef)(null),A=(0,o.useState)("undefined"!=typeof history&&(null===(n=history.state)||void 0===n?void 0:n.values)||{}),P=A[0],I=A[1],q=(0,o.useMemo)((function(){return Array.from(new Set(C.filter((function(t){return t.frontmatter.expose})).map((function(t){return"artist"===t.frontmatter.template?t.frontmatter.fields:[]})).reduce((function(t,e){return[].concat((0,r.Z)(t),(0,r.Z)(e||[]))}),[]).filter((function(t){return!["Séléction"].includes(t)}))))}),[]),R=(0,o.useMemo)((function(){return Array.from(new Set(C.filter((function(t){return t.frontmatter.expose})).map((function(t){return"artist"===t.frontmatter.template?t.frontmatter.styles:[]})).reduce((function(t,e){return[].concat((0,r.Z)(t),(0,r.Z)(e||[]))}),[])))}),[]),z=(0,o.useMemo)((function(){return y(C.filter((function(t){return t&&"artist"===t.frontmatter.template&&!!t.frontmatter.expose&&t.frontmatter.works.filter((function(t){return!t.sold})).length&&!t.frontmatter.fields.includes("Séléction")})),new Date((new Date).setHours(0,0,0,0)).getTime())}),[]),D=(0,o.useMemo)((function(){return z.map((function(t){return t.frontmatter.works.filter((function(t){return!t.sold}))[0]})).filter((function(t){return!!t})).slice(0,5)}),[]),T=(0,o.useMemo)((function(){return{styles:{type:"select",transform:function(t,e){return e.length?Object.assign({},t,{frontmatter:Object.assign({},t.frontmatter,{works:t.frontmatter.works.filter((function(n){return e.some((function(e){return(t.frontmatter.styles||[]).includes(e.value)}))&&0===(n.styles||[]).length||e.some((function(t){return(n.styles||[]).includes(t.value)}))}))})}):t},props:{label:"Styles Artistiques",isMulti:!0,options:R.map((function(t){return{value:t,label:t}}))}},fields:{type:"select",transform:function(t,e){return e.length?Object.assign({},t,{frontmatter:Object.assign({},t.frontmatter,{works:t.frontmatter.works.filter((function(n){return e.some((function(e){return(t.frontmatter.fields||[]).includes(e.value)}))&&0===(n.fields||[]).length||e.some((function(t){return(n.fields||[]).includes(t.value)}))}))})}):t},props:{label:"Techniques Artistiques",isMulti:!0,options:q.map((function(t){return{value:t,label:t}}))}},artists:{type:"select",transform:function(t,e){return e.length?Object.assign({},t,{frontmatter:Object.assign({},t.frontmatter,{works:e.map((function(t){return t.value})).includes(t.frontmatter.title)?t.frontmatter.works:[]})}):t},props:{label:"Artistes",isMulti:!0,isSearchable:!0,options:z.map((function(t){return{value:t.frontmatter.title,label:t.frontmatter.title}}))}},price:{type:"checkbox",default:[],transform:function(t,e){return e.length?Object.assign({},t,{frontmatter:Object.assign({},t.frontmatter,{works:t.frontmatter.works.filter((function(t){return e.some((function(e){var n=e[0],r=e[1];return 1.05*t.price>=n&&1.05*t.price<=r}))}))})}):t},props:{label:"Prix",options:[{id:"1-500",value:[1,500],label:"1 - 500€"},{id:"500-2500",value:[500,2500],label:"500 - 2 500€"},{id:"2500-5000",value:[2500,5e3],label:"2 500 - 5 000€"},{id:"5000+",value:[5e3,1/0],label:"5 000€ +"}]}},format:{type:"checkbox",default:[],transform:function(t,e){return e.length?Object.assign({},t,{frontmatter:Object.assign({},t.frontmatter,{works:t.frontmatter.works.filter((function(t){return e.some((function(e){var n,r,i,o,s,l,a=e[0],u=e[1];return(null===(n=t.dimensions)||void 0===n?void 0:n.height)&&(null===(r=t.dimensions)||void 0===r?void 0:r.width)&&((null===(i=t.dimensions)||void 0===i?void 0:i.height)>=a&&(null===(o=t.dimensions)||void 0===o?void 0:o.height)<=u||(null===(s=t.dimensions)||void 0===s?void 0:s.width)>=a&&(null===(l=t.dimensions)||void 0===l?void 0:l.width)<=u)}))}))})}):t},props:{label:"Formats",options:[{id:"small",value:[0,50],label:"Petit (0 - 50cm)"},{id:"medium",value:[50,100],label:"Moyen (50 - 100cm)"},{id:"large",value:[100,1/0],label:"Grand (100cm +)"}]}},orientation:{type:"checkbox",default:[],transform:function(t,e){return e.length?Object.assign({},t,{frontmatter:Object.assign({},t.frontmatter,{works:t.frontmatter.works.filter((function(t){return e.some((function(e){var n,r,i,o,s,l,a,u;return(null===(n=t.dimensions)||void 0===n?void 0:n.height)&&(null===(r=t.dimensions)||void 0===r?void 0:r.width)&&{portrait:(null===(i=t.dimensions)||void 0===i?void 0:i.height)>(null===(o=t.dimensions)||void 0===o?void 0:o.width),landscape:(null===(s=t.dimensions)||void 0===s?void 0:s.height)<(null===(l=t.dimensions)||void 0===l?void 0:l.width),square:(null===(a=t.dimensions)||void 0===a?void 0:a.height)===(null===(u=t.dimensions)||void 0===u?void 0:u.width)}[e]}))}))})}):t},props:{label:"Orientations",options:[{id:"portrait",value:"portrait",label:"Portrait"},{id:"landscape",value:"landscape",label:"Paysage"},{id:"square",value:"square",label:"Carré"}]}}}}),[]),L=(0,o.useMemo)((function(){return z.map((function(t){return Object.keys(P).reduce((function(t,e){return T[e].transform(t,P[e])}),Object.assign({},t,{frontmatter:Object.assign({},t.frontmatter,{works:t.frontmatter.works.filter((function(t){return!t.sold}))})}))})).filter((function(t){return t.frontmatter.works.filter((function(t){return!t.sold})).length}))}),[z,P]),V=(0,l.Z)(L,10,{initial:"undefined"!=typeof history&&(null===(h=history.state)||void 0===h?void 0:h.page)||0}),W=V.page,_=V.setPage,B=V.pieces,E=V.length;(0,o.useEffect)((function(){(Object.keys(P).length||W>0)&&history.pushState({values:P,page:W},document.title)}),[P,W]);var F=function(t){M.current?M.current.scrollIntoView():window.scrollTo({top:0,behavior:"smooth"}),setTimeout((function(){_(t)}),1e3)};return(0,b.tZ)(u.Z,j,(0,b.tZ)(a.Z,{title:S.seo.title,description:S.seo.description,image:null===(Z=B[0])||void 0===Z||null===(w=Z.frontmatter)||void 0===w||null===(k=w.works)||void 0===k||null===(x=k.filter((function(t){return!t.sold})).shift())||void 0===x?void 0:x.image,pageContext:j.pageContext}),(0,b.tZ)("section",{ref:M,css:t.styles.element},(0,b.tZ)(g.Z,null,S.seo.heading),(0,b.tZ)("div",{css:t.styles.carousel},(0,b.tZ)(f.Z,{slides:D})),(0,b.tZ)("h1",null,S.title),(0,b.tZ)(c.Z,{children:S.description}),B.length&&(0,b.tZ)("small",{css:t.styles.resume},(0,b.tZ)("code",null,(0,b.tZ)("strong",null,L.length)," Artistes // ",(0,b.tZ)("strong",null,L.reduce((function(t,e){return t+e.frontmatter.works.length}),0))," Oeuvres")),(0,b.tZ)(v.Z,{options:T,setPage:_,values:P,setValues:I}),(0,b.tZ)("div",{css:t.styles.results},B.map((function(e){return(0,b.tZ)("article",{key:e.relativePath,css:t.styles.artist},(0,b.tZ)("label",null,(0,b.tZ)(s.Link,{to:e.url},e.frontmatter.title)),(0,b.tZ)("div",{css:t.styles.row},e.frontmatter.works.filter((function(t){return!t.sold})).map((function(n,r){return(0,b.tZ)("div",{css:t.styles.work,key:r},(0,b.tZ)(p.Z,{title:n.title,image:n.image,url:e.url,state:{work:n.title}}))}))))})),!B.length&&(0,b.tZ)("div",{css:t.styles.empty},"Désolé, aucune oeuvres ne correspond à vos critères pour le moment")),E>1&&(0,b.tZ)("nav",null,(0,b.tZ)("button",{disabled:0===W,onClick:function(){return F(W-1)}},(0,b.tZ)(m.Z,{children:"arrow",direction:"left"})),(0,b.tZ)("span",null,W+1," / ",E),(0,b.tZ)("button",{disabled:W+1===E,onClick:function(){return F(W+1)}},(0,b.tZ)(m.Z,{children:"arrow",direction:"right"}))),(0,b.tZ)("div",{css:t.styles.reinsurance},(0,b.tZ)(d.Z,null))))};Z.styles={element:{flex:1,padding:"2em",">nav":{display:"flex",alignItems:"center",justifyContent:"center",padding:"0 0 2em",">button":{display:"flex",alignItems:"center",justifyContent:"center",margin:"0 1rem",paddingRight:"0.33em"}}},carousel:{height:"15rem",margin:"0 0 2rem"},results:{},resume:{display:"flex",alignItems:"center",justifyContent:"center",padding:"1em 0",textAlign:"center"},empty:{display:"flex",alignItems:"center",justifyContent:"center",padding:"4em 0",textAlign:"center"},artist:{padding:"0 0 2em 0",">label":{fontWeight:"bold",fontSize:"1.25em"}},row:{display:"flex",flexDirection:"row",overflowY:"auto"},work:{flexShrink:0,fontSize:"0.875em",height:"20em",width:"20em",padding:"2em"},reinsurance:{margin:"2rem 0 0 0"}};var w=Z}}]);
//# sourceMappingURL=component---src-templates-catalogue-js-7f1270bc4530d0d91b9c.js.map