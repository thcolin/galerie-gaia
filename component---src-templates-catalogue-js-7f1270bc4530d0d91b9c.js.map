{"version":3,"sources":["webpack://galerie-gaia/./src/components/Reinsurance.js","webpack://galerie-gaia/./src/utils/shuffle.js","webpack://galerie-gaia/./src/templates/catalogue.js"],"names":["Reinsurance","css","styles","element","data","index","title","icon","content","key","item","style","Icon","children","display","overflowX","flexDirection","alignItems","flexBasis","minWidth","margin","textAlign","marginLeft","marginRight","justifyContent","backgroundColor","theme","fontSize","borderRadius","height","width","fontWeight","random","seed","x","Math","sin","floor","array","t","i","m","length","Catalogue","scrollPosition","props","pageContext","pages","frontmatter","ref","useRef","useState","history","state","values","setValues","fields","useMemo","Array","from","Set","filter","page","expose","map","template","reduce","acc","curr","field","includes","artists","shuffle","works","work","sold","Date","setHours","getTime","carousel","slice","options","type","transform","some","value","label","isMulti","artist","isSearchable","price","default","prices","min","max","id","Infinity","format","formats","dimensions","orientation","orientations","portrait","landscape","square","entities","Object","keys","usePagination","initial","setPage","pieces","useEffect","pushState","document","movePage","current","scrollIntoView","window","scrollTo","top","behavior","setTimeout","Layout","SEO","seo","description","image","shift","Heading","heading","Carousel","slides","RichText","resume","Options","results","relativePath","Link","to","url","row","Work","empty","disabled","onClick","direction","reinsurance","flex","padding","paddingRight","overflowY","flexShrink"],"mappings":"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","file":"component---src-templates-catalogue-js-7f1270bc4530d0d91b9c.js","sourcesContent":["import Icon from 'components/Icon'\nimport data from 'data/reinsurance.json'\nimport theme from 'theme'\n\nconst Reinsurance = ({ ...props }) => {\n  return (\n    <div css={Reinsurance.styles.element}>\n      {data.items.map(({ title, icon, content }, index) => (\n        <div key={index} css={Reinsurance.styles.item}>\n          <span style={Reinsurance.styles.icon}>\n            <Icon children={icon} />\n          </span>\n          <label>{title}</label>\n          <p>{content}</p>\n        </div>\n      ))}\n    </div>\n  )\n}\n\nReinsurance.styles = {\n  element: {\n    display: 'flex',\n    // margin: '2rem 0 1rem 0',\n    overflowX: 'auto',\n  },\n  item: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    flexBasis: '100%',\n    minWidth: '10rem',\n    margin: '0 0.5rem',\n    textAlign: 'center',\n    ':first-of-type': {\n      marginLeft: '0',\n    },\n    ':last-of-type': {\n      marginRight: '0',\n    },\n    '>span': {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      backgroundColor: theme.colors.smoke,\n      margin: '0 0 1rem 0',\n      fontSize: '2rem',\n      borderRadius: '50%',\n      height: '4rem',\n      width: '4rem',\n    },\n    '>label': {\n      fontWeight: 'bold',\n    },\n  },\n}\n\nexport default Reinsurance\n","const shuffle = (array, seed) => {\n  let m = array.length, t, i\n\n  while (m) {\n    i = Math.floor(random(seed) * m--)\n    t = array[m]\n    array[m] = array[i]\n    array[i] = t\n    ++seed\n  }\n\n  return array\n}\n\nconst random = (seed) => {\n  const x = Math.sin(seed) * 10000\n  return x - Math.floor(x)\n}\n\nexport default shuffle\n","import { useEffect, useMemo, useState, useRef } from 'react'\nimport { Link } from 'gatsby'\nimport usePagination from 'hooks/use-pagination'\nimport SEO from 'components/SEO'\nimport Layout from 'components/Layout'\nimport RichText from 'components/RichText'\nimport Carousel from 'components/Carousel'\nimport Reinsurance from 'components/Reinsurance'\nimport Icon from 'components/Icon'\nimport Work from 'components/Work'\nimport Heading from 'components/Heading'\nimport Options from 'components/Options'\nimport shuffle from 'utils/shuffle'\n\nconst Catalogue = ({ scrollPosition, ...props }) => {\n  const { pageContext: { pages, frontmatter } } = props\n  const ref = useRef(null)\n  const [values, setValues] = useState((typeof history !== 'undefined' && history.state?.values) || {})\n\n  const fields = useMemo(() => Array.from(new Set(pages\n    .filter(page => page.frontmatter.expose)\n    .map(page => page.frontmatter.template === 'artist' ? page.frontmatter.fields : [])\n    .reduce((acc, curr) => [...acc, ...(curr || [])], [])\n    .filter(field => !['Séléction'].includes(field))\n  )), [])\n\n  const styles = useMemo(() => Array.from(new Set(pages\n    .filter(page => page.frontmatter.expose)\n    .map(page => page.frontmatter.template === 'artist' ? page.frontmatter.styles : [])\n    .reduce((acc, curr) => [...acc, ...(curr || [])], [])\n  )), [])\n\n  const artists = useMemo(() => shuffle(pages.filter(page => (\n    page\n    && page.frontmatter.template === 'artist'\n    && !!page.frontmatter.expose\n    && page.frontmatter.works.filter(work => !work.sold).length\n    && !page.frontmatter.fields.includes('Séléction')\n  )), new Date(new Date().setHours(0,0,0,0)).getTime()), [])\n\n  const carousel = useMemo(() => (artists\n    .map(page => page.frontmatter.works.filter(work => !work.sold)[0])\n    .filter(work => !!work)\n    .slice(0, 5)\n  ), [])\n\n  const options = useMemo(() => ({\n    // TODO: Add `color`\n    styles: {\n      type: 'select',\n      transform: (page, styles) => !styles.length ? page : ({\n        ...page,\n        frontmatter: {\n          ...page.frontmatter,\n          works: page.frontmatter.works.filter(work => (\n            (styles.some(style => (page.frontmatter.styles || []).includes(style.value)) && (work.styles || []).length === 0)\n            || styles.some(style => (work.styles || []).includes(style.value))\n          )),\n        }\n      }),\n      props: {\n        label: 'Styles Artistiques',\n        isMulti: true,\n        options: styles.map(style => ({\n          value: style,\n          label: style,\n        })),\n      },\n    },\n    fields: {\n      type: 'select',\n      transform: (page, fields) => !fields.length ? page : ({\n        ...page,\n        frontmatter: {\n          ...page.frontmatter,\n          works: page.frontmatter.works.filter(work => (\n            (fields.some(field => (page.frontmatter.fields || []).includes(field.value)) && (work.fields || []).length === 0)\n            || fields.some(field => (work.fields || []).includes(field.value))\n          )),\n        }\n      }),\n      props: {\n        label: 'Techniques Artistiques',\n        isMulti: true,\n        options: fields.map(field => ({\n          value: field,\n          label: field,\n        })),\n      },\n    },\n    artists: {\n      type: 'select',\n      transform: (page, artists) => !artists.length ? page : ({\n        ...page,\n        frontmatter: {\n          ...page.frontmatter,\n          works: artists.map(artist => artist.value).includes(page.frontmatter.title) ? page.frontmatter.works : [],\n        },\n      }),\n      props: {\n        label: 'Artistes',\n        isMulti: true,\n        isSearchable: true,\n        options: artists.map(artist => ({\n          value: artist.frontmatter.title,\n          label: artist.frontmatter.title,\n        }))\n      }\n    },\n    price: {\n      type: 'checkbox',\n      default: [],\n      transform: (page, prices) => !prices.length ? page : ({\n        ...page,\n        frontmatter: {\n          ...page.frontmatter,\n          works: page.frontmatter.works.filter(work => prices.some(([min, max]) => (work.price * 1.05) >= min && (work.price * 1.05) <= max)),\n        },\n      }),\n      props: {\n        label: 'Prix',\n        options: [\n          { id: '1-500', value: [1, 500], label: '1 - 500€' },\n          { id: '500-2500', value: [500, 2500], label: '500 - 2 500€' },\n          { id: '2500-5000', value: [2500, 5000], label: '2 500 - 5 000€' },\n          { id: '5000+', value: [5000, Infinity], label: '5 000€ +' },\n        ],\n      }\n    },\n    format: {\n      type: 'checkbox',\n      default: [],\n      transform: (page, formats) => !formats.length ? page : ({\n        ...page,\n        frontmatter: {\n          ...page.frontmatter,\n          works: page.frontmatter.works.filter(work => formats.some(([min, max]) => (\n            (work.dimensions?.height && work.dimensions?.width)\n            && (\n              work.dimensions?.height >= min && work.dimensions?.height <= max\n              || work.dimensions?.width >= min && work.dimensions?.width <= max\n            )\n          ))),\n        },\n      }),\n      props: {\n        label: 'Formats',\n        options: [\n          { id: 'small', value: [0, 50], label: 'Petit (0 - 50cm)' },\n          { id: 'medium', value: [50, 100], label: 'Moyen (50 - 100cm)' },\n          { id: 'large', value: [100, Infinity], label: 'Grand (100cm +)' },\n        ],\n      }\n    },\n    orientation: {\n      type: 'checkbox',\n      default: [],\n      transform: (page, orientations) => !orientations.length ? page : ({\n        ...page,\n        frontmatter: {\n          ...page.frontmatter,\n          works: page.frontmatter.works.filter(work => orientations.some((orientation) => (work.dimensions?.height && work.dimensions?.width) && ({\n            portrait: work.dimensions?.height > work.dimensions?.width,\n            landscape: work.dimensions?.height < work.dimensions?.width,\n            square: work.dimensions?.height === work.dimensions?.width,\n          }[orientation]))),\n        },\n      }),\n      props: {\n        label: 'Orientations',\n        options: [\n          { id: 'portrait', value: 'portrait', label: 'Portrait' },\n          { id: 'landscape', value: 'landscape', label: 'Paysage' },\n          { id: 'square', value: 'square', label: 'Carré' },\n        ],\n      }\n    },\n  }), [])\n\n  const entities = useMemo(() => (artists\n    .map(page => Object.keys(values).reduce((acc, key) => options[key].transform(acc, values[key]), {\n      ...page,\n      frontmatter: {\n        ...page.frontmatter,\n        works: page.frontmatter.works.filter(work => !work.sold),\n      }\n    }))\n    .filter(artist => artist.frontmatter.works.filter(work => !work.sold).length)\n  ), [artists, values])\n\n  const { page, setPage, pieces, length } = usePagination(entities, 10, { initial: (typeof history !== 'undefined' && history.state?.page) || 0 })\n\n  useEffect(() => {\n    if (Object.keys(values).length || page > 0) {\n      history.pushState({ values, page }, document.title)\n    }\n  }, [values, page])\n\n  const movePage = (page) => {\n    if (ref.current) {\n      ref.current.scrollIntoView()\n    } else {\n      window.scrollTo({ top: 0, behavior: 'smooth' })\n    }\n\n    setTimeout(() => {\n      setPage(page)\n    }, 1000)\n  }\n\n  return (\n    <Layout {...props}>\n      <SEO\n        title={frontmatter.seo.title}\n        description={frontmatter.seo.description}\n        image={pieces[0]?.frontmatter?.works?.filter(work => !work.sold).shift()?.image}\n        pageContext={props.pageContext}\n      />\n      <section ref={ref} css={Catalogue.styles.element}>\n        <Heading>{frontmatter.seo.heading}</Heading>\n        <div css={Catalogue.styles.carousel}>\n          <Carousel slides={carousel} />\n        </div>\n        <h1>{frontmatter.title}</h1>\n        <RichText children={frontmatter.description} />\n        {pieces.length && (\n          <small css={Catalogue.styles.resume}>\n            <code>\n              <strong>{entities.length}</strong> Artistes // <strong>{entities.reduce((acc, curr) => acc + curr.frontmatter.works.length, 0)}</strong> Oeuvres\n            </code>\n          </small>\n        )}\n        <Options options={options} setPage={setPage} values={values} setValues={setValues} />\n        <div css={Catalogue.styles.results}>\n          {pieces\n            .map(artist => (\n              <article key={artist.relativePath} css={Catalogue.styles.artist}>\n                <label><Link to={artist.url}>{artist.frontmatter.title}</Link></label>\n                <div css={Catalogue.styles.row}>\n                  {artist.frontmatter.works.filter(work => !work.sold).map((work, index) => (\n                    <div css={Catalogue.styles.work} key={index}>\n                      <Work title={work.title} image={work.image} url={artist.url} state={{ work: work.title }} />\n                    </div>\n                  ))}\n                </div>\n              </article>\n            ))\n          }\n          {!pieces.length && (\n            <div css={Catalogue.styles.empty}>\n              Désolé, aucune oeuvres ne correspond à vos critères pour le moment\n            </div>\n          )}\n        </div>\n        {length > 1 && (\n          <nav>\n            <button disabled={page === 0} onClick={() => movePage(page - 1)}>\n              <Icon children=\"arrow\" direction=\"left\" />\n            </button>\n            <span>{page + 1} / {length}</span>\n            <button disabled={(page + 1) === length} onClick={() => movePage(page + 1)}>\n              <Icon children=\"arrow\" direction=\"right\" />\n            </button>\n          </nav>\n        )}\n        <div css={Catalogue.styles.reinsurance}>\n          <Reinsurance />\n        </div>\n      </section>\n    </Layout>\n  )\n}\n\nCatalogue.styles = {\n  element: {\n    flex: 1,\n    padding: '2em',\n    '>nav': {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      padding: '0 0 2em',\n      '>button': {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        margin: '0 1rem',\n        paddingRight: '0.33em',\n      },\n    },\n  },\n  carousel: {\n    height: '15rem',\n    margin: '0 0 2rem',\n  },\n  results: {\n  },\n  resume: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: '1em 0',\n    textAlign: 'center',\n  },\n  empty: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: '4em 0',\n    textAlign: 'center',\n  },\n  artist: {\n    padding: '0 0 2em 0',\n    '>label': {\n      fontWeight: 'bold',\n      fontSize: '1.25em'\n    }\n  },\n  row: {\n    display: 'flex',\n    flexDirection: 'row',\n    overflowY: 'auto',\n  },\n  work: {\n    flexShrink: 0,\n    fontSize: '0.875em',\n    height: '20em',\n    width: '20em',\n    padding: '2em',\n  },\n  reinsurance: {\n    margin: '2rem 0 0 0',\n  }\n}\n\nexport default Catalogue\n"],"sourceRoot":""}